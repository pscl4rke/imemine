#!/usr/bin/env bash
#======================================================================#
# MPD ALBUM SELECTOR                             (c) 2012 P. S. Clarke #
#======================================================================#

album="$(mpc list album | shuf | cat <(echo "SHUFFLING") - | dmenu)"
[ -z "$album" ] && exit 1
mpc clear
case "$album" in
    SHUFFLING)  mpc listall | shuf          ;;
    *)          mpc find album "$album"     ;;
esac | mpc add
mpc play
# Try again because of a weird permissions issue
# It still doesn't work :(
#sleep 1 && mpc play

